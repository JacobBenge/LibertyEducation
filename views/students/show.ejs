<% layout('layouts/teacher-boilerplate') %>
    <!-- Profile -->
    <div class="row">
        <div class="card shadow mb-5">
            <div class="card-body">
                <h1 class="text-center mt-4">
                    <%=student.firstName%>
                        <%=student.lastName%>'s Profile
                </h1>
                <div class="row">
                    <div class="col-sm-6">
                        <!-- Student Information -->
                        <h2 class="mt-4 form-subtitle">Personal Info</h2>
                        <hr>
                        <div class="card" style="width: 18rem;">
                            <ul class="list-group list-group-flush">
                              <li class="list-group-item fw-bold">First Name:</li>
                              <li class="list-group-item fw-bold">Last Name:</li>
                              <li class="list-group-item fw-bold">Preferred Name:</li>
                              <li class="list-group-item fw-bold">Birth Date: <%=student.dateOfBirth.toISOString().substring(0, 10)%></li>
                              <li class="list-group-item fw-bold">Gender:</li>
                              <li class="list-group-item fw-bold">Year in School:</li>
                              <li class="list-group-item fw-bold">Address Line 1:</li>
                              <li class="list-group-item fw-bold">Address Line 2:</li>
                              <li class="list-group-item fw-bold">City:</li>
                              <li class="list-group-item fw-bold">State:</li>
                              <li class="list-group-item fw-bold">Zip Code:</li>
                              <li class="list-group-item fw-bold">Zip Code Ext:</li>
                              <li class="list-group-item fw-bold">Special Notes:</li>
                            </ul>
                          </div>
                    </div>
                    <div class="col-sm-6">
                        <!-- Student Portal Info -->
                        <h2 class="mt-4 form-subtitle">Student Portal Info</h2>
                        <hr>
                        <p class="fw-bold">Reward Coins Balance:</p>
                        <div class="row">
                            <div class="col-6">
                                <div class="card">
                                    <div class="card-header">Link 1</div>
                                    <div class="card-body">
                                        <a href="<%=student.url1%>" class="btn btn-sm btn-primary">
                                            <%=student.url1Label%>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="col-6">
                                <div class="card">
                                    <div class="card-header">Link 2</div>
                                    <div class="card-body">
                                        <a href="<%=student.url2%>" class="btn btn-sm btn-primary">
                                            <%=student.url2Label%>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-6">
                                <div class="card">
                                    <div class="card-header">Link 3</div>
                                    <div class="card-body">
                                        <a href="<%=student.url3%>" class="btn btn-sm btn-primary">
                                            <%=student.url3Label%>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="col-6">
                                <div class="card">
                                    <div class="card-header">Link 4</div>
                                    <div class="card-body">
                                        <a href="<%=student.url4%>" class="btn btn-sm btn-primary">
                                            <%=student.url4Label%>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Emergency Contacts -->
                        <h2 class="mt-4 form-subtitle">Emergency Contacts</h2>
                        <hr>
                        <div class="card" style="width: 18rem;">
                            <div class="card-header">
                                Primary
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">First Name:</li>
                                <li class="list-group-item">Last Name:</li>
                                <li class="list-group-item">Phone:</li>
                                <li class="list-group-item">Email:</li>
                                <li class="list-group-item">Relationship to Student:</li>
                            </ul>
                        </div>
                        <br>
                        <div class="card" style="width: 18rem;">
                            <div class="card-header">
                                Secondary
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">First Name:</li>
                                <li class="list-group-item">Last Name:</li>
                                <li class="list-group-item">Phone:</li>
                                <li class="list-group-item">Email:</li>
                                <li class="list-group-item">Relationship to Student:</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <a href="/students/<%=student._id%>/edit" class="mb-3 mt-5 btn btn-info d-grid">Edit</a>
            <form class="col-12 mb-3 d-grid" action="/students/<%=student._id%>?_method=DELETE" method="POST">
                <button class="btn btn-danger"
                    onclick="return confirm('Are you sure you want to permanently delete this student?')">Delete</button>
            </form>
            <div class="card-footer text-muted">
                <a href="/students">Back to All Students</a>
            </div>
        </div>
    </div>
    <!-- Notes -->
    <div class="row">
        <div class="card shadow mb-5">
            <div class="card-body">
                <h2>Attendance</h2>
                <form action="/students/<%=student._id%>/attendance" class="mb-3 validated-form" method="POST"
                    novalidate>
                    <div class="mb-3">
                        <label for="attendanceDate">Date:</label>
                        <input type="date" id="attendanceDate" name="attendance[attendanceDate]">
                    </div>
                    <div class="mb-3">
                        <select class="form-select" aria-label="Default select example" id="attendanceCode"
                            name="attendance[attendanceCode]" required>
                            <option selected></option>
                            <option value="present">present</option>
                            <option value="tardy">tardy</option>
                            <option value="absent">absent</option>
                            <option value="excused absence">excused absence</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="comment">Comments</label>
                        <textarea class="form-control" name="attendance[comment]" id="comment" cols="30"
                            rows="3"></textarea>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    </div>
                    <button class="btn btn-success">Add Attendance</button>
                </form>
                <% for(let attendance of student.attendance) { %>
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Date: <%=attendance.attendanceDate.toISOString().substring(0, 10)%>
                            </h5>
                            <p class="card-text">Code: <%= attendance.attendanceCode %>
                            </p>
                            <p class="card-text">Comments: <%= attendance.comment %>
                            </p>
                            <form action="/students/<%=student._id%>/attendance/<%=attendance._id%>?_method=DELETE"
                                method="POST">
                                <button class="btn btn-sm btn-danger"
                                    onclick="return confirm('Are you sure you want to permanently delete this item?')">Delete</button>
                            </form>
                        </div>
                    </div>
                    <% } %>
            </div>
        </div>
    </div>