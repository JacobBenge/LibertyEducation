<% layout('layouts/teacher-boilerplate') %>
    <div class="row">
        <div class="card shadow mb-5">
            <div class="card-body">
                <h1 class="text-center">All Students</h1>
                <!-- Leave all controls at top of page because the table loads infinitely. If there is 50 students, you don't want to have to scroll all the way down to add a new student. -->
                <div>
                    <a href="/students/new" class="btn btn-primary">Add New Student</a>
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Registration Code</th>
                            <th scope="col">First Name</th>
                            <th scope="col">Last Name</th>
                            <th scope="col">Gender</th>
                            <th scope="col">City</th>
                            <th scope="col">State</th>
                            <th scope="col">Access</th>
                        </tr>
                    </thead>
                    <tbody>
                                <% for (let student of students) { %>
                                    <tr>
                                        <td scope="row">
                                            <%=student._id%>
                                        </td>
                                        <td>
                                            <%=student.lastName%>
                                        </td>
                                        <td>
                                            <%=student.firstName%>
                                        </td>
                                        <td>
                                            <%=student.gender%>
                                        </td>
                                        <td>
                                            <%=student.city%>
                                        </td>
                                        <td>
                                            <%=student.stateCode%>
                                        </td>
                                        <td><a class="btn btn-primary" href="/students/<%=student._id%>">Details
                                                <%=student.title%>
                                            </a></td>
                                    </tr>
                                    <% } %>
                    </tbody>

                </table>
            </div>
        </div>
    </div>